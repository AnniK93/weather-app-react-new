{"ast":null,"code":"import _slicedToArray from\"/Users/annikaklein/Documents/Sonstiges/Coding/GitHub/weather-app-react-new/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./Search.css\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),weather=_useState8[0],setWeather=_useState8[1];function showWeather(response){var cityName=response.data.name;setMessage(\"\".concat(cityName));setLoaded(true);setWeather({temperature:response.data.main.temp,wind:response.data.wind.speed,humidity:response.data.main.humidity,icon:\"http://openweathermap.org/img/wn/\".concat(response.data.weather[0].icon,\"@2x.png\"),description:response.data.weather[0].description});}function handleSubmit(event){event.preventDefault();var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=\").concat(units);axios.get(url).then(showWeather);if(city.length>0){setMessage(\"\".concat(city));}else{alert(\"Please type the name of a city\");}}function handlePosition(position){console.log(position);var lat=\"\".concat(position.coords.latitude);var lon=\"\".concat(position.coords.longitude);var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?lat=\".concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(apiKey,\"&units=\").concat(units);axios.get(apiUrl).then(showWeather);}function searchCurrentLocation(event){event.preventDefault();navigator.geolocation.getCurrentPosition(handlePosition);}function updateCity(event){setCity(event.target.value);}function searchMoscow(event){event.preventDefault();var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=moscow&appid=\".concat(apiKey,\"&units=\").concat(units);setMessage(\"Moscow\");axios.get(apiUrl).then(showWeather);}function searchBerlin(event){event.preventDefault();var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=berlin&appid=\".concat(apiKey,\"&units=\").concat(units);setMessage(\"Berlin\");axios.get(apiUrl).then(showWeather);}function searchLondon(event){event.preventDefault();var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=london&appid=\".concat(apiKey,\"&units=\").concat(units);setMessage(\"London\");axios.get(apiUrl).then(showWeather);}function searchNewYork(event){event.preventDefault();var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=new+york&appid=\".concat(apiKey,\"&units=\").concat(units);setMessage(\"New York\");axios.get(apiUrl).then(showWeather);}var cityArray=[\"Hongkong\",\"Kuala Lumpur\",\"Pune\",\"Berlin\",\"Paris\",\"Rome\",\"Bangkok\",\"Antananarivo\",\"Cairo\",\"Madrid\",\"Lima\",\"Beijing\",\"Tokyo\",\"Sydney\",\"Wellington\",\"Cardiff\",\"Delhi\",\"Caracas\",\"Vilnius\",\"Minsk\",\"Lomé\",\"Ouagadougou\",\"Kaunas\",\"Montreal\",\"Sherbrooke\",\"Calgary\",\"Louisiana\",\"Chicago\",\"Brasilia\",\"Lisbon\",\"Riga\",\"Stockholm\",\"Helsinki\",\"Singapore\",\"New York\",\"Los Angeles\",\"San Francisco\",\"Mexico City\",\"Taipeh\",\"Adelaide\",\"Brighton\",\"Dortmund\",\"Dijon\",\"Montpellier\",\"Barcelona\",\"Canberra\",\"Kabul\",\"Tirana\",\"Dhaka\",\"Brussels\",\"Vienna\",\"Munich\",\"Buenos Aires\",\"Baku\",\"Sarajevo\",\"Sofia\",\"Yaoundé\",\"Kinshasa\",\"Ottawa\",\"Phnom Penh\",\"Havana\",\"Quito\",\"Tallinn\",\"Addis Ababa\",\"Libreville\",\"Tbilisi\",\"Accra\",\"Athens\",\"Budapest\",\"Reykjavik\",\"Jakarta\",\"Nairobi\",\"Bishkek\",\"Tripoli\",\"Valletta\",\"Monaco\",\"Windhoek\",\"Cape Town\",\"Pyongyang\",\"Belfast\",\"Oslo\",\"Muscat\",\"Islamabad\",\"Doha\",\"Riyadh\",\"Mogadishu\",\"Seoul\",\"Nuuk\",\"Bern\",\"Zurich\",\"Damascus\",\"Jerusalem\",\"Ankara\",\"Montevideo\",\"Vatican City\",\"Hanoi\",\"Lusaka\"];function searchRandomLocation(event){event.preventDefault();var randomCity=cityArray[Math.floor(Math.random()*cityArray.length)];var apiKey=\"6697611895f9d8bb5ac23403332f6cdd\";var units=\"metric\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(randomCity,\"&appid=\").concat(apiKey,\"&units=\").concat(units);setMessage(\"\".concat(randomCity));axios.get(apiUrl).then(showWeather);}//function formatHour(timestamp) {\n// let date = new Date(timestamp * 1000);\n//let hour = date.getHours();\n//if (hour < 10) {\n//  hour = `0${hour}`;\n// }\n// return hour;\n// }\nvar now=new Date();var days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];// let day = now.getDay();\nvar currentDay=days[now.getDay()];var minutes=now.getMinutes();if(minutes<10){minutes=\"0\".concat(minutes);}var hours=now.getHours();if(hours<10){hours=\"0\".concat(hours);}var currentTime=\"\".concat(hours,\":\").concat(minutes);var header=/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"citynames\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col cityname\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"link\",onClick:searchMoscow,children:\"Moscow\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col cityname\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"link\",onClick:searchBerlin,children:\"Berlin\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col cityname\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"link\",onClick:searchLondon,children:\"London\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col cityname\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"link\",onClick:searchNewYork,children:\"New York\"})})})]})})});var forecast=/*#__PURE__*/_jsx(\"h3\",{children:\"Forecast for next 6 days goes here eventually\"});var form=/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Enter a city...\",onChange:updateCity}),/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",onClick:searchCurrentLocation,children:\"\\uD83D\\uDCCD Current location\"}),/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",onClick:searchRandomLocation,children:\"\\uD83D\\uDDFA Random location\"})]});if(loaded){return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[header,form,/*#__PURE__*/_jsx(\"h2\",{className:\"message\",children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"lastUpdate\",children:\"Last update:\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[currentDay,\" \",currentTime]}),/*#__PURE__*/_jsx(\"h4\",{className:\"description\",children:weather.description}),/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"img\",{src:weather.icon,alt:weather.description}),/*#__PURE__*/_jsxs(\"span\",{className:\"currentDegrees\",children:[Math.round(weather.temperature),\"\\xB0C\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Humidity: \",weather.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Wind: \",weather.wind,\"m/sec\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forecast\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Weather forecast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hours\",children:\"Weather for next 6 hours goes here\"}),/*#__PURE__*/_jsx(\"div\",{className:\"week\",children:forecast})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/AnniK93/weather-app-react-new\",children:\"Open source code\"}),\"by Anni\"]})})]})});}else{return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[header,form]})});}}","map":{"version":3,"sources":["/Users/annikaklein/Documents/Sonstiges/Coding/GitHub/weather-app-react-new/src/Search.js"],"names":["React","useState","axios","Search","city","setCity","message","setMessage","loaded","setLoaded","weather","setWeather","showWeather","response","cityName","data","name","temperature","main","temp","wind","speed","humidity","icon","description","handleSubmit","event","preventDefault","apiKey","units","url","get","then","length","alert","handlePosition","position","console","log","lat","coords","latitude","lon","longitude","apiUrl","searchCurrentLocation","navigator","geolocation","getCurrentPosition","updateCity","target","value","searchMoscow","searchBerlin","searchLondon","searchNewYork","cityArray","searchRandomLocation","randomCity","Math","floor","random","now","Date","days","currentDay","getDay","minutes","getMinutes","hours","getHours","currentTime","header","forecast","form","round"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport \"./Search.css\";\nimport axios from \"axios\";\n\nexport default function Search() {\n  let [city, setCity] = useState(\"\");\n  let [message, setMessage] = useState(\"\");\n  let [loaded, setLoaded] = useState(false);\n  let [weather, setWeather] = useState({});\n\n  function showWeather(response) {\n    let cityName = response.data.name;\n    setMessage(`${cityName}`);\n    setLoaded(true);\n    setWeather({\n      temperature: response.data.main.temp,\n      wind: response.data.wind.speed,\n      humidity: response.data.main.humidity,\n      icon: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`,\n      description: response.data.weather[0].description,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;\n\n    axios.get(url).then(showWeather);\n\n    if (city.length > 0) {\n      setMessage(`${city}`);\n    } else {\n      alert(`Please type the name of a city`);\n    }\n  }\n\n  function handlePosition(position) {\n    console.log(position);\n    let lat = `${position.coords.latitude}`;\n    let lon = `${position.coords.longitude}`;\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`;\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function searchCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(handlePosition);\n  }\n\n  function updateCity(event) {\n    setCity(event.target.value);\n  }\n\n  function searchMoscow(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=moscow&appid=${apiKey}&units=${units}`;\n    setMessage(`Moscow`);\n\n    axios.get(apiUrl).then(showWeather);\n  }\n  function searchBerlin(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=berlin&appid=${apiKey}&units=${units}`;\n    setMessage(`Berlin`);\n\n    axios.get(apiUrl).then(showWeather);\n  }\n  function searchLondon(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=london&appid=${apiKey}&units=${units}`;\n    setMessage(`London`);\n\n    axios.get(apiUrl).then(showWeather);\n  }\n  function searchNewYork(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=new+york&appid=${apiKey}&units=${units}`;\n    setMessage(`New York`);\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  let cityArray = [\n    \"Hongkong\",\n    \"Kuala Lumpur\",\n    \"Pune\",\n    \"Berlin\",\n    \"Paris\",\n    \"Rome\",\n    \"Bangkok\",\n    \"Antananarivo\",\n    \"Cairo\",\n    \"Madrid\",\n    \"Lima\",\n    \"Beijing\",\n    \"Tokyo\",\n    \"Sydney\",\n    \"Wellington\",\n    \"Cardiff\",\n    \"Delhi\",\n    \"Caracas\",\n    \"Vilnius\",\n    \"Minsk\",\n    \"Lomé\",\n    \"Ouagadougou\",\n    \"Kaunas\",\n    \"Montreal\",\n    \"Sherbrooke\",\n    \"Calgary\",\n    \"Louisiana\",\n    \"Chicago\",\n    \"Brasilia\",\n    \"Lisbon\",\n    \"Riga\",\n    \"Stockholm\",\n    \"Helsinki\",\n    \"Singapore\",\n    \"New York\",\n    \"Los Angeles\",\n    \"San Francisco\",\n    \"Mexico City\",\n    \"Taipeh\",\n    \"Adelaide\",\n    \"Brighton\",\n    \"Dortmund\",\n    \"Dijon\",\n    \"Montpellier\",\n    \"Barcelona\",\n    \"Canberra\",\n    \"Kabul\",\n    \"Tirana\",\n    \"Dhaka\",\n    \"Brussels\",\n    \"Vienna\",\n    \"Munich\",\n    \"Buenos Aires\",\n    \"Baku\",\n    \"Sarajevo\",\n    \"Sofia\",\n    \"Yaoundé\",\n    \"Kinshasa\",\n    \"Ottawa\",\n    \"Phnom Penh\",\n    \"Havana\",\n    \"Quito\",\n    \"Tallinn\",\n    \"Addis Ababa\",\n    \"Libreville\",\n    \"Tbilisi\",\n    \"Accra\",\n    \"Athens\",\n    \"Budapest\",\n    \"Reykjavik\",\n    \"Jakarta\",\n    \"Nairobi\",\n    \"Bishkek\",\n    \"Tripoli\",\n    \"Valletta\",\n    \"Monaco\",\n    \"Windhoek\",\n    \"Cape Town\",\n    \"Pyongyang\",\n    \"Belfast\",\n    \"Oslo\",\n    \"Muscat\",\n    \"Islamabad\",\n    \"Doha\",\n    \"Riyadh\",\n    \"Mogadishu\",\n    \"Seoul\",\n    \"Nuuk\",\n    \"Bern\",\n    \"Zurich\",\n    \"Damascus\",\n    \"Jerusalem\",\n    \"Ankara\",\n    \"Montevideo\",\n    \"Vatican City\",\n    \"Hanoi\",\n    \"Lusaka\",\n  ];\n\n  function searchRandomLocation(event) {\n    event.preventDefault();\n    let randomCity = cityArray[Math.floor(Math.random() * cityArray.length)];\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${randomCity}&appid=${apiKey}&units=${units}`;\n    setMessage(`${randomCity}`);\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  //function formatHour(timestamp) {\n  // let date = new Date(timestamp * 1000);\n  //let hour = date.getHours();\n  //if (hour < 10) {\n  //  hour = `0${hour}`;\n  // }\n  // return hour;\n  // }\n  let now = new Date();\n\n  let days = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ];\n  // let day = now.getDay();\n  let currentDay = days[now.getDay()];\n  let minutes = now.getMinutes();\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  let hours = now.getHours();\n  if (hours < 10) {\n    hours = `0${hours}`;\n  }\n\n  let currentTime = `${hours}:${minutes}`;\n\n  let header = (\n    <header>\n      <div className=\"citynames\">\n        <div className=\"row\">\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\" onClick={searchMoscow}>\n                Moscow\n              </a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\" onClick={searchBerlin}>\n                Berlin\n              </a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\" onClick={searchLondon}>\n                London\n              </a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\" onClick={searchNewYork}>\n                New York\n              </a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n  let forecast = <h3>Forecast for next 6 days goes here eventually</h3>;\n  let form = (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"search\"\n        placeholder=\"Enter a city...\"\n        onChange={updateCity}\n      />\n      <button type=\"Submit\">Search</button>\n      <button type=\"Submit\" onClick={searchCurrentLocation}>\n        📍 Current location\n      </button>\n      <button type=\"Submit\" onClick={searchRandomLocation}>\n        🗺 Random location\n      </button>\n    </form>\n  );\n\n  if (loaded) {\n    return (\n      <body>\n        <div className=\"container\">\n          {header}\n          {form}\n          <h2 className=\"message\">{message}</h2>\n\n          <div className=\"row\">\n            <h5 className=\"lastUpdate\">Last update:</h5>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <h4>\n                {currentDay} {currentTime}\n              </h4>\n              <h4 className=\"description\">{weather.description}</h4>\n              <h2>\n                <img src={weather.icon} alt={weather.description} />\n                <span className=\"currentDegrees\">\n                  {Math.round(weather.temperature)}°C\n                </span>\n              </h2>\n            </div>\n            <div className=\"col\">\n              <h4>Humidity: {weather.humidity}%</h4>\n              <h4>Wind: {weather.wind}m/sec</h4>\n            </div>\n          </div>\n          <div className=\"forecast\">\n            <h3>Weather forecast</h3>\n            <div className=\"hours\">Weather for next 6 hours goes here</div>\n            <div className=\"week\">{forecast}</div>\n          </div>\n          <footer>\n            <p>\n              <a href=\"https://github.com/AnniK93/weather-app-react-new\">\n                Open source code\n              </a>\n              by Anni\n            </p>\n          </footer>\n        </div>\n      </body>\n    );\n  } else {\n    return (\n      <body>\n        <div className=\"container\">\n          {header}\n          {form}\n        </div>\n      </body>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}