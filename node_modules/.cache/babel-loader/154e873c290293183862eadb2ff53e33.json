{"ast":null,"code":"var _jsxFileName = \"/Users/annikaklein/Documents/Sonstiges/Coding/weather-app-react/src/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./Search.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Search() {\n  _s();\n\n  let [city, setCity] = useState(\"\");\n  let [message, setMessage] = useState(\"\");\n  let [loaded, setLoaded] = useState(false);\n  let [weather, setWeather] = useState({});\n\n  function showWeather(response) {\n    setLoaded(true);\n    setWeather({\n      temperature: response.data.main.temp,\n      wind: response.data.wind.speed,\n      humidity: response.data.main.humidity,\n      icon: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`,\n      description: response.data.weather[0].description\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;\n    axios.get(url).then(showWeather);\n\n    if (city.length > 0) {\n      setMessage(`${city}`);\n    } else {\n      alert(`Please type the name of a city`);\n    }\n  }\n\n  function handlePosition(position) {\n    console.log(position);\n    let lat = `${position.coords.latitude}`;\n    let lon = `${position.coords.longitude}`;\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"imperial\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`;\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function searchCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(handlePosition);\n  }\n\n  function updateCity(event) {\n    setCity(event.target.value);\n  }\n\n  function searchMoscow(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=moscow&appid=${apiKey}&units=${units}`;\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function handlePosition(position) {\n    let lat = `${position.coords.latitude}`;\n    let lon = `${position.coords.longitude}`;\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`;\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function searchCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(handlePosition);\n  }\n\n  function formatHour(timestamp) {\n    let date = new Date(timestamp * 1000);\n    let hour = date.getHours();\n\n    if (hour < 10) {\n      hour = `0${hour}`;\n    }\n\n    return hour;\n  }\n\n  let now = new Date();\n  let days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  let day = now.getDay();\n  let currentDay = days[now.getDay()];\n  let minutes = now.getMinutes();\n\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  let hours = now.getHours();\n\n  if (hours < 10) {\n    hours = `0${hours}`;\n  }\n\n  let currentTime = `${hours}:${minutes}`;\n\n  let header = /*#__PURE__*/_jsxDEV(\"header\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"citynames\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col cityname\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"link\",\n              onClick: searchMoscow,\n              children: \"Moscow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col cityname\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"link\",\n              children: \"Berlin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col cityname\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"link\",\n              children: \"London\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col cityname\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"link\",\n              children: \"New York\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n\n  let form = /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"search\",\n      placeholder: \"Enter a city...\",\n      onChange: updateCity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"Submit\",\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"Submit\",\n      onClick: searchCurrentLocation,\n      children: \"\\uD83D\\uDCCD Current location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"Submit\",\n      children: \"\\uD83D\\uDDFA Random location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n\n  if (loaded) {\n    return /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [header, form, /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"message\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"lastUpdate\",\n            children: \"Last update:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [currentDay, \" \", currentTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"description\",\n              children: weather.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: weather.icon,\n                alt: weather.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"currentDegrees\",\n                children: [Math.round(weather.temperature), \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Humidity: \", weather.humidity, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Wind: \", weather.wind, \"m/sec\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"body\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [header, form]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Search, \"eCaDBfoO8JBmNTa6rjCIbFTpe/A=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Users/annikaklein/Documents/Sonstiges/Coding/weather-app-react/src/Search.js"],"names":["React","useState","axios","Search","city","setCity","message","setMessage","loaded","setLoaded","weather","setWeather","showWeather","response","temperature","data","main","temp","wind","speed","humidity","icon","description","handleSubmit","event","preventDefault","apiKey","units","url","get","then","length","alert","handlePosition","position","console","log","lat","coords","latitude","lon","longitude","apiUrl","searchCurrentLocation","navigator","geolocation","getCurrentPosition","updateCity","target","value","searchMoscow","formatHour","timestamp","date","Date","hour","getHours","now","days","day","getDay","currentDay","minutes","getMinutes","hours","currentTime","header","form","Math","round"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport \"./Search.css\";\nimport axios from \"axios\";\n\nexport default function Search() {\n  let [city, setCity] = useState(\"\");\n  let [message, setMessage] = useState(\"\");\n  let [loaded, setLoaded] = useState(false);\n  let [weather, setWeather] = useState({});\n\n  function showWeather(response) {\n    setLoaded(true);\n    setWeather({\n      temperature: response.data.main.temp,\n      wind: response.data.wind.speed,\n      humidity: response.data.main.humidity,\n      icon: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`,\n      description: response.data.weather[0].description,\n    });\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;\n\n    axios.get(url).then(showWeather);\n\n    if (city.length > 0) {\n      setMessage(`${city}`);\n    } else {\n      alert(`Please type the name of a city`);\n    }\n  }\n\n  function handlePosition(position) {\n    console.log(position);\n    let lat = `${position.coords.latitude}`;\n    let lon = `${position.coords.longitude}`;\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"imperial\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`;\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function searchCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(handlePosition);\n  }\n\n  function updateCity(event) {\n    setCity(event.target.value);\n  }\n\n  function searchMoscow(event) {\n    event.preventDefault();\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=moscow&appid=${apiKey}&units=${units}`;\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function handlePosition(position) {\n    let lat = `${position.coords.latitude}`;\n    let lon = `${position.coords.longitude}`;\n    let apiKey = \"6697611895f9d8bb5ac23403332f6cdd\";\n    let units = \"metric\";\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}`;\n\n    axios.get(apiUrl).then(showWeather);\n  }\n\n  function searchCurrentLocation(event) {\n    event.preventDefault();\n    navigator.geolocation.getCurrentPosition(handlePosition);\n  }\n\n  function formatHour(timestamp) {\n    let date = new Date(timestamp * 1000);\n    let hour = date.getHours();\n    if (hour < 10) {\n      hour = `0${hour}`;\n    }\n    return hour;\n  }\n  let now = new Date();\n\n  let days = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ];\n  let day = now.getDay();\n  let currentDay = days[now.getDay()];\n  let minutes = now.getMinutes();\n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  let hours = now.getHours();\n  if (hours < 10) {\n    hours = `0${hours}`;\n  }\n\n  let currentTime = `${hours}:${minutes}`;\n\n  let header = (\n    <header>\n      <div className=\"citynames\">\n        <div className=\"row\">\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\" onClick={searchMoscow}>\n                Moscow\n              </a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\">Berlin</a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\">London</a>\n            </p>\n          </div>\n          <div className=\"col cityname\">\n            <p>\n              <a href=\"link\">New York</a>\n            </p>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n  let form = (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"search\"\n        placeholder=\"Enter a city...\"\n        onChange={updateCity}\n      />\n      <button type=\"Submit\">Search</button>\n      <button type=\"Submit\" onClick={searchCurrentLocation}>\n        📍 Current location\n      </button>\n      <button type=\"Submit\">🗺 Random location</button>\n    </form>\n  );\n\n  if (loaded) {\n    return (\n      <body>\n        <div className=\"container\">\n          {header}\n          {form}\n          <h2 className=\"message\">{message}</h2>\n\n          <div className=\"row\">\n            <h5 className=\"lastUpdate\">Last update:</h5>\n          </div>\n          <div className=\"row\">\n            <div className=\"col\">\n              <h4>\n                {currentDay} {currentTime}\n              </h4>\n              <h4 className=\"description\">{weather.description}</h4>\n              <h2>\n                <img src={weather.icon} alt={weather.description} />\n                <span className=\"currentDegrees\">\n                  {Math.round(weather.temperature)}°C\n                </span>\n              </h2>\n            </div>\n            <div className=\"col\">\n              <h4>Humidity: {weather.humidity}%</h4>\n              <h4>Wind: {weather.wind}m/sec</h4>\n            </div>\n          </div>\n        </div>\n      </body>\n    );\n  } else {\n    return (\n      <body>\n        <div className=\"container\">\n          {header}\n          {form}\n        </div>\n      </body>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}